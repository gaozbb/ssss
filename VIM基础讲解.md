# VIM基础讲解

[toc]


## 第一讲


### 第一讲第一节：移动光标


**想要移动光标，分别按下h、j、k、l键。**

提示：h键位于左边，每次按下会向左移动
			  l键位于右边，每次按下会向右移动
			  j键看起来像一支尖端方向朝下的箭头
			  k键向上移动

### 第一讲第二节：VIM的进入和退出


1.按下<ESC>键（确保处于正常模式）
2.输入：                                          :q!<回车>
	这种输入方式会退出编辑器会丢弃进入编辑器带来的改动
3.命令行提示符，VIM教程的命令，就是： VImtutor<回车>

### 第一讲第三节：文本编辑之删除


**正常模式下，可以按下x键删除光标所在位置的字符**

### 第一讲第四节：文本编辑之插入


**正常模式下，可以按下i键插入文本**

### 第一讲第五节：文本编辑之添加


**按 A 键添加文本**
会从行尾进行添加

### 第一讲第六节：编辑文件

**使用	:wq	以i保存文件并退出**

### <font color="red">第一讲小结</font>

1.光标移动
	h（左移）		j（下行）		k（上行）		l（右移）
2.VIM编辑器（从命令行提示符），输入：Vim 文件名<回车>
3.退出Vim编辑器，输入<Esc>		:q!	<回车>	放弃所有改动
									   输入<Esc>		:wq<回车>		保存改动并退出
4.正常模式下删除光标所在位置的字符，请按：x
5.插入或添加文本，输入：
					i		输入欲插入文本			<Esc>								在光标前插入文本
					A		输入欲添加文本			<Esc>								在一行后添加文本
					按下<Esc>退回正常模式，或者撤销一个不想输入或部分完整的命令



## 第二讲


### 第二讲第一节：删除类命令


**输入 dw 可以从光标处删除至第一个单词末尾**

光标移至准备删除的单词的起始处，接着输入	dw	删除该单词

### 第二讲第二节：更多删除类命令


输入	d$	就是从光标处删至当前行尾

### 第二讲第三节：关于命令和对象


许多改变文本的命令都是由一个操作符和一个动作构成。
使用删除操作符	d	的删除命令的格式如下：
						d		motion
其中：
	d							-删除操作符
	motion				-操作符的操作对象（在下面列出）
一个简短的动作列表：
	w							-从当前光标当前位置到下一个单词起始处，不包括第一个字符
	e							-从当前光标位置到单词末尾，包括最后一个字符。
	$							-从当前光标当前位置直到当前行末。
	
因此输入	de	会从当前光标位置删除到单词末尾

### 第二讲第四节：使用计数指定动作


**在动作前输入数字会使它重复多次**

1.输入	2w	会使光标向后移动两个单词
2.输入	3e	使光标向后移动到第三个单词末尾

### 第二讲第五节：使用计数以删除更多


**使用操作符输入数字可以使它重复多次**

删除更多：
						d			number（数字）			motion
输入 d2w	以删除两个大写字母单词

### 第二讲第六节：操作整行


**输入	dd	可以删除整一行操作**

鉴于整行删除的高频度，VI的设计者决定要简化整行删除操作，仅需在同一行上打两次	d	就可以删除光标所在的整行了。

1.输入	dd	删除该行
2.输入	2dd	删除两行

### 第二讲第七节：撤销类命令


**输入 u 撤销最后执行的命令，输入 U 撤销对整行的修改**

1.输入	u	撤销最后执行的命令
2.输入	U	撤销对整行的修改
3.Ctrl+R（先按下Ctrl不放开然后按下R键）这样就可以做重复被撤销的命令，也就是撤销被撤销掉的命令

### <font color="red">第二讲小结</font>


1.想从当前光标删除至下一个单词，请输入：dw
2.想从当前光标删除至当前行末尾，请输入：d$
3.想删除整行，请输入：dd
4.正常模式下修改命令的格式是：
									operator			[number]			motion
			其中：
				operation 			-操作符，代表要做的事情，比如	d	代表删除
				[number]			-可以附加的数字，代表动作重复的次数
				motion				  -动作，代表在所操作的文本上的移动。例如	w	代表单词（word）$代表行末等等


## 第三讲



### 第三讲第一节：置入类命令


**输入	p	将最后一次删除的内容置入光标之后**

1.输入	dd	将该行删除，这样会将该行保存到	Vim	的一个寄存器中
2.接着光标移入某一位置，输入	p	将该行粘贴置入。

### 第三讲第二节：替换类命令


**输入	r	和一个字符替换光标所在位置的字符**

1.光标移入一个错误的位置
2.输入	r	和替换成的字符

### 第三讲第三节：更改类命令


**改变文本直到一个单词的末尾，输入	ce	**

1.把光标放在错误单词的地方
2.输入	cw	以及正确单词
3.最后按下<Esc>键

###	第三讲第四节：使用c更改更多


**更改类操作符可以与删除中使用的同样的动作配合使用**

1.更改类操作的工作方式和删除类是一致的。操作格式：
							c			[number]			motion
2.动作参数（motion）也是一样的，比如	w	代表单词，$代表行末等等
3.光标移入错误处
4.输入 c$	 使剩下部分更正，最后按下<Esc>键

### <font color="red">第三讲小结</font>


1.要中心置入擅长的文本内容，按小写字母	p。该操作可以将删除的文本内容置入光标后面，如果最后一次删除是一整行，那么该行将置于光标所在行的下一行。
2.想要替换光标所在位置的字符，请输入小写	r	和要替换原位置的字符的新字符。
3.更改类命令可以多个更改，比如输入	ce	可以替换当前光标到单词的末尾的内容，输入	c$ 可以替换当前光标到行末的内容
4.更改类命令的格式是：
							c			[number]			motion


## 第四讲



### 第四讲第一节：定位及文件状态



**输入	<Ctrl>+G	显示当前编辑文件中当前光标所在行位置以及文件状态信息。输入大写	G	则直接跳转文件中的某一指定行**

1.按下	Ctrl键不放开然后按	g	键。我们称这个键组合为Ctrl-G。
2.输入大写	G	可以使当前光标直接跳转文件最后一行
	输入	gg	可以使当前光标直接跳转文件第一行
3.输入层停留的行号，然后输入大写的	G。可以直接跳转停留的那一行

### 第四讲第二节：搜索类命令

**输入	/	加上一个字符串可以在当前文件中查找该字符串**

1.在正常模式中输入	/	字符，可以注意到该字符和光标都会出现在屏幕底部，这跟：命令是一样的
2.接着输入	errrorr<Enter>。那个errroor就是要查找的字符串
3.如果想查找同上一次字符串，只需要按下	n	键，想要相反的方向查找同上一次字符串，输入大写	N	即可。
4.如果向你想查找字符串，使用	？	代替	/	进行
5.想要回到之前的位置按	CTRL-O	（按住	Ctrl	键不放同时按下字母	O）。重复按可以退更多步。	Ctrl-I	会跳转较新的位置。

### 第四讲第三节：配对括号的查找

**输入	%	可以查找配对的括号	）、]、}。**

1.把光标放在想要查匹配的括号处
2.按下	%，此时显示的应该是对应匹配的括号
3.再按下	%	就回到输入的要匹配的括号处

### 第四讲第四节：替换命令

**输入：s/old/new/g	可以替换	old为new**

1.输入：s/thee/the<回车>，该命令只匹配当前光标所在行的第一个匹配字符串
2.输入：s/thee/the/g	则是替换全行的匹配串，该行所有的"thee"都会被改变
3.要替换两行之间出现的每个匹配串
	输入			:#,#s/old/new/g					其中#，#代表的是替换操作的若干行中首尾两行的行号
	输入			:%s/old/new/g					则是替换整个文件中每个匹配串
	输入			:%s/old/new/gc					会找到整个文件中的每个匹配串，并对每个匹配串提示是否进行替换

### <font color="red">第四讲小结</font>


1.Ctrl-G	用于显示当前光标所在为位置和文件状态信息
	G用于跳转文件最后一行
	gg跳转文件第一行
	先敲一个行号，然后一个大写G，可以光标移动至该行号代表的行
2.输入	/	然后紧随一个字符串，在当前编辑文档搜索字符串
	输入	？	然后紧随一个字符串，在当前所编辑文档反向查找字符串
	完成一次查找之后按	n	重复上一次命令，可同一方向上查，按	N	会反向查找字符串
	Ctrl-O 跳转之前位置，Ctrl-I会跳转新位置
3.光标当前位置是阔高，按	%	会移动到匹配的括号上
4.在一行内替换头一个字符串	old	为新的字符串 new，输入：		:s/old/new
	在一行内替换所有的字符串	old	为新的字符串	new，输入：		:s/old/new/g
	在两行内替换所有的字符串	old	为新的字符串	new，输入：		:#,#s/old/new/g
	在文件内替换所有的字符串	old	为新的字符串	new，输入：		:%s/old/new/g
	进行全文替换时查询用户确认每个替换需添加	c	标志					:%s/old/new/gc