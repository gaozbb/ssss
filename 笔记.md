# 										笔记

## Git

git status 当前文件夹状态

git add./ 添加所有文件

git commit -am "提交原因"   提交到自己的分支

git checkout -b  创建分支

git checkout  切换分支

git branch  查看分支

git merge  合并分支

git pull origin dev 从dev上拉代码

git push origin dev  提交到dev 

Git是如何跟踪修改的，每次修改，如果不用`git add`到暂存区，那就不会加入到`commit`中

git  reflog  用来查看命令历史

| `撤销修改`                                                   |
| ------------------------------------------------------------ |
| 修改工作区的内容后想丢弃掉 用git checkout -- 文件名          |
| 改了工作区的内容,又提交带了暂存区，向退回                    |
| git reset HEAD 文件名 ，回到工作区，在git checkout -- 文件名 |
| `git checkout`其实是用版本库里的版本替换工作区的版本，无论工作区是修改还是删除，都可以“一键还原” |

git init 创建本地仓库

get config --list  查看设置

 

| `版本回退`                                |
| ----------------------------------------- |
| `HEAD`指向的版本就是当前版本,指向当前分支 |
| `git reset --hard commit_id`。            |
| `git  reflog ` 用来查看命令历史           |
| `git  diff `查看修改了什么                |

| `删除文件`       rm 文件  删除工作区的文件                   |
| ------------------------------------------------------------ |
| 注意：从来没有被添加到版本库就被删除的文件，是无法恢复的！   |
| 从版本库删除文件：命令`git rm`用于删除一个文件，并且删除git commit |
|                                                              |

| `远程仓库`                                                   |
| ------------------------------------------------------------ |
| 创建ssh                                                      |
| 1.$ ssh-keygen -t rsa -C "youremail@example.com"             |
| 2.用户主目录里找到`.ssh`目录，里面有`id_rsa`和`id_rsa.pub`两个文件 |
| 3.在终端输入ssh-add ~/.ssh/id_rsa                            |
| 成功后dentity added: /Users/xxx/.ssh/id_rsa (/Users/xxx/.ssh/id_rsa)，在 /Users/xxx/.ssh/ 生成两个文件 |
| 4.终端输入cat /Users/xxx/.ssh/id_rsa.pub  粘提密码放到github里面 |

| `添加远程库`                                                 |
| ------------------------------------------------------------ |
| `$ git remote add origin git@github.com:michaelliao/learngit.git`  本地关联远程库 |
| `git push `命令，实际上是把当前分支`master`推送到远程        |
| `git push -u `    -u参数把本地master分支的内容推送到master分支，还会把本地master分支和远程master分支关联起来。 |
| **`克隆github`的**代码                                       |
| git clone  仓库地址      克隆                                |
| `https://github.com/michaelliao/gitskills.git`这样的地址。实际上，Git支持多种协议，默认的`git://`使用ssh |
| 也可以用https等协议,缺点速度慢，push时输入口令。             |

| 分支                                                         |
| ------------------------------------------------------------ |
| git branch 查看分支                                          |
| git  branch <name> 创建分支                                  |
| git   branch -d <name> 删除分支                              |
| git checkout <name> 或者 git switch <name> 切换分支   switch 2.23版本阿布的,旧版本不支持 |
| git merge <name>  合并某分支到当前分支 <br>直接把master直线dev的当前提交，完成了合并 |
| git check -b <name> 或者 git switch -c <name> 创建+切换分支        <br>创建新分支除了增加了dev指针，改变了HEAD的指向，工作区的文件都没有任何变化。 |
| `解决合并冲突问题`                                           |
| ------------------------------------------------------------ |
| 2个分支同时修改，产生冲突，通过`<<<<<<<=======>>>>>>>`进行修改 |
| `git log --graph`命令可以看到分支合并图                      |

| `分支管理策略`                                               |
| ------------------------------------------------------------ |
| 1.`master`分支应该是非常稳定的，也就是仅用来发布新版本，平时不能在上面干活 |
| 2.合并分支时，加上`--no-ff`参数就可以用普通模式合并，合并后的历史有分支，能看出来曾经做过合并，而`fast forward`合并就看不出来曾经做过合并。 |

| `Bug分支`                                                    |
| ------------------------------------------------------------ |
| 创建新的bug分支进行修复，然后合并，最后删除                  |
| 当在dev工作没完事,git stash 把当前的工作储蓄起来，去修bug，bug修完回去git stash lish查看下，需要会恢复下，git stash apply恢复后，并没有删除，用git  stash drop 删除。<br>另一种方式用git stash pop 恢复，并且自动删除stash的内容<br>回复制定指定的stash用git stash apply stash{0}<br>修复完master上的bug，用cherry-pick命令复制在master上提交所做的修改，给到dev上 |

| `Feature分支`    开发一个新的feature，最好新建一个分支。     |
| ------------------------------------------------------------ |
| 没有被合并后的分支删除，将丢失掉修改，需要用到git branch -D 分支名 |
| **`多人协作`**                                               |
| git remote 或者git remote -v 查看远程库的信息（如果没有推送权限，看不到push地址） |
| `推送分支`  git push origin master                           |
| master 分支是主分支，dev是开发分支，都需要远程同步；<br>bug分支在本地修复，除非老板看你修复了多少个bug。<br>feature分支是否推到远程，取决于队友在上面开发。<br>Git中，分支完全可以在本地自己藏着玩，是否推送，视你的心情而定！ |
| `抓取分支`                                                   |
|                                                              |
|                                                              |
|                                                              |

get config --global user.name ''       设置用户名

get config --global user.email ""        设置用户邮箱

git remote -v  查看本地库里记录的远程库地址







# Linux 命令

|  目录结构  |
|  -  |
|    /bin这个目录存放着着经常使用的命令      sbin/ 存放系统管理员可执行的命令    |
|    /boot 存放启动linux时使用的核心文件，包括一些连接文件和镜像文件 |
| /dev  存放的是liunx的外部设备，在linux中访问设备的方式和访问文件的方式是相同的 |
| /etc  存放所有的系统管理所需要的配置文件和子目录 |
| /home   家目录，所有用户都有一个自己名字命名的文件夹存放在这个目录中 |
| /lib  各种程序呢所需的共享动态链接库，系统程序能正常运行支持的文件，存放系统程序共用的代码，提高程序可读性，省空间 |
| /lib 64   lib64支持库，只有一个文件 |
| /media  存放所有媒体信息的文件。 |
| /mnt 所有挂载在系统中的设备文件，比如U盘 |
| /opt 安装程序的引导和程序文件，缺少必要文件，安装程序无法启动 |
| /proc 存放系统信息和进程信息。记录了系统运行的绝大部分性能信息和各种参数信息。 |
| / root 超级管理员的家目录，超级管理员拥有最高权限。对文件可读可写可执行 |
| /run  保存从系统诞生到当前的关于系统信息的文件。 |
| /lost + found 当非法关机后，，存放了一些文件 |
| /tmp存放系统或者用户的临时目录 |
| /usr  和用户有关的文件系统都存放在这个目录 |
| /var  存放类似日志这样随时间变化的文件 |
| /srv 一般是系统存储的服务相关数据 |
| /initrd.img   临时引导系统到内核文件的镜像文件。不能删除。 |
| /vmlinuz   属于一个可压缩的软链接内核。 创建内核分2种 |
touch  创建文件

cat 查看文件内容

vim  文件名  修改文件

rm -rf 删除文件



## Vim

| 移动光标的方法     |                            |
| ------------------ | -------------------------- |
| h 或 向左箭头键(←) | 光标向左移动一个字符       |
| j 或 向下箭头键(↓) | 光标向下移动一个字符g      |
| k 或 向上箭头键(↑) | 光标向上移动一个字符       |
| l 或 向右箭头键(→) | 光标向右移动一个字符       |
| Ctrl + f           | 屏幕向下移动一页           |
| Ctrl + b           | 屏幕向上移动一页           |
| Ctrl + d           | 屏幕向下移动半页           |
| Ctrl + u           | 屏幕向上移动半页           |
| n 空格             | 光标向右移动n个字符        |
| `0`和 \ | 到行头 |
| `$`         | 到本行行尾 |
| G            | 移动到这个档案的最后一行(常用) |
| nG          | 移动到这个档案的n行 |
| gg           | 移动到这个档案的第一行，相当与1G |
| +                  | 光标移动到非空格符的下一行 |
| -                  | 光标移动到非空格符的上一行 |
| H          | 光标移动到这个屏幕的最上方那一行的第一个字符 |
| M            | 光标移动到这个屏幕的中央那一行的第一个字符 |
| L            | 光标移动到这个屏幕的最下方那一行的第一个字符 |

`?内容` 在光标上寻找一个字符串名字是内容的 = `/内容` 

| 搜索替换                                   |                                                              |
| ------------------------------------------ | ------------------------------------------------------------ |
| /内容                                      | 向光标下找一个内容的字符串                                   |
| ？内容                                     | 向光标上找一个内容的字符串                                   |
| n                                          | /内容后在按n 向下继续找    ？内容同理                        |
| N                                          | 与/内容和？内容按n的搜索方式相反                             |
| :n1,n2s/找内容/替换成/g                    | n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 	word2 |
| :1,$s/word1/word2/g 或 :%s/word1/word2/g   | 从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 	word2 ！(常用) |
| :1,$s/word1/word2/gc 或 :%s/word1/word2/gc | 从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 	word2 ！且在取代前显示提示字符给用户确认 (confirm) 	是否需要取代！(常用) |



| 删除、复制与贴上 |                                                              |
| ---------------- | ------------------------------------------------------------ |
| x,X              | 一行字中，x向后删除一个字符，X向前删除一个字符               |
| nx               | n 为数字，连续向后删除 n 个字符                              |
| nX               | n 为数字，连续向前删除 n 个字符                              |
| dd               | 删除游标所在的那一整行(常用)                                 |
| d1G              | 删除光标所在到第一行的所有数据                               |
| dG               | 删除光标所在到最后一行的所有数据                             |
| d$               | 删除游标所在处，到该行的最后一个字符                         |
| d0               | 那个是数字的 0 ，删除游标所在处，到该行的最前面一个字符      |
| yy               | 复制游标所在的那一行(常用)                                   |
| nyy              | n 为数字。复制光标所在的向下 n 行，例如 20yy 则是复制 20 	行(常用) |
| y1G | 复制游标所在行到第一行的所有数据 |
| yG | 复制游标所在行到最后一行的所有数据 |
| y0 | 复制光标所在的那个字符发哦该行行首的所有数据 |
| y$ | 复制光标所在的那个字符到该行行尾的所有数据 |
| p,P | p 为将已复制的数据在光标下一行贴上，P 则为贴在游标上一行 |
| J | 将光标所在行与下一行的数据结合成同一行 |
| c | 重复删除多个数据，例如向下删除 10 行，[ 10cj ]               |
| u,U | u撤销命令，U撤销行内命令 |
| [Ctrl]+r | 重做上一个动作。(常用) |
| s,S | s删除字符并插入，S删除行并插入 |
|  d  |   删除2行内容  |
|   { } |    {段首，}段尾   |
|  ( )  |   ( 句首，)下一行句首  |
|  < >  |   <反缩进，>缩进  |
| .  |    重复命令  |
|  B,b  |   前一单词  |
|  c,C  |   c修改三行，C修改到行末  |



| 进入输入或取代的编辑模式 |                                                              |
| ------------------------ | ------------------------------------------------------------ |
| i, I                     | 进入输入模式，i从目前光标所在处输入，I在目前所在行的第一个非空的字符输入 |
| a，A                     | 进入输入模式，a为从目前光标所在的下一个字符处输入，A从光标所在行的最后一个字符输入 |
| o,O                      | 进入输入模式，o在当前光标所在的下一行处输入新的一行，O为在目前光标所在处的上一行出入新的一行。 |
| r，R                     | 进入取代模式，r会取代光标所在的那个字符一次，R会一直取代光标所在的文字直到按下ESC为止 |
| ESC                      | 退出编辑模式，回到一般模式中                                 |

### 一般模式切换到指令行模式的可用的按钮说明


| 指令行的储存、离开等指令      |                                                              |
| :---------------------------- | :----------------------------------------------------------: |
| :w                            |              将编辑的数据写入硬盘档案中（常用）              |
| :w!                           |                                                              |
| :q                            |                           离开vim                            |
| :q!                           |          曾修改过档案，不想储存，用!强制离开不储存           |
| 注意：!号在vi中具有强制的意思 |                                                              |
| :wq                           |        储存后离开，若为:wq! 则为强制储存后离开(常用)         |
| ZZ                            |           内容没动不储存离开，动过内容则储存后离开           |
| :w [filename]                 |         将编辑的数据储存成另一个档案（类似另存新档）         |
| :r [filename]                 | 在编辑文件中，读入了一个档案的数据。则将[filename]加在游标所在行后面去 |
| :n1,n2 w [filename ]          |           将n1到n2 的内容储存成 [filename]这个档案           |
| :!command                     | 暂时离开 vi 到指令行模式下执行 command 的显示结果！例如<br/> 	[:! ls /home]即可在 vi 当中察看 /home 底下以 ls 输出的档案信息！ |
| vim 环境的变更                |                                                              |
| :set nu                       |      显示行号，设定之后，会在每一行的前缀显示该行的行号      |
| :set nonu                     |                 与 set nu 相反，为取消行号！                 |
| **vim 中批量添加注释**        |                                                              |
| 方法一 ：块选择模式           | Ctrl + v 进入块选择模式，然后移动光标选中你要注释的行，再按大写的 **I** 进入行首插入模式输入注释符号如 **//** 或 **#**，输入完毕之后，按两下 **ESC**，**Vim** 会自动将你选中的所有行首都加上注释，保存退出完成注释。 |
| 取消注释：                    | Ctrl + v  进入块选择模式，选中你要删除的行首的注释符号，7注意 **//** 要选中两个，选好之后按 **d** 即可删除注释，**ESC** 保存退出。 |
| 方法二: 替换命令              |              使用下面命令在指定的行首添加注释。              |
| 取消注释：                    | 使用名命令格式：  :起始行号,结束行号s/^注释符//g（注意冒号）。 |
| 在 10 - 20 行添加 **//** 注释 |                        :10,20s#^#//#g                        |
| 在 10 - 20 行删除 **//** 注释 |                        :10,20s#^//##g                        |
| 在 10 - 20 行添加 **#** 注释  |                        :10,20s/^/#/g                         |
| 在 **10 - 20** 行删除 # 注释  |                         :10,20s/#//g                         |



