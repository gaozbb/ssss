# Linux vi/vim
所有的Unix Like 系统都会内建vi文本编辑器，其他文本编辑器不一定存在。
目前使用比较多的是vim编辑器。
vim具有程序编辑能力，可以主动的字体颜色辨别语法的正确性，方便程序设计。
## 什么是vim？
 vim是从vi发展出来的一个文本编辑器。代码补完、编译及错误跳转等方便编程的功能特
> Vi是Unix及Linux系统下标准的编辑器，由美国加州大学伯克利分校的Bill Joy所创立，vi分三种状态，分别是命令模式、插入模式、底行模式。

别丰富，在程序员中被广泛的使用。
简单来说，vi是老式的字处理器，vim可以说是程序开发者的一项工具。连vim的官方网站[http://www.vim.org](http://www.vim.org)自己也说是vim是一个程序开发工具而不是文字处理软件。
vim键盘图：
![](/home/tt/下载/vi-vim-cheat-sheet-sch.gif)

## vi/vim的使用
基本上vi/vim分为三种模式，分别是**命令模式（Command mode），输入模式（insert mode）和底线命令模式（Last line mode）。**这三种模式分别的作用是：
### 命令模式：
用户刚刚启动vi/vim，便会进入命令模式。
此状态下敲击键盘动作会被Vim识别为命令模式，而非输入字符。比如我们此时按下i，并不会输入一个字符，i被当做了一个命令。
以下是常用的几个命令：
+ **i**切换到输入模式，以输入字符

+ **x**删除当前光标所在处的字符。

+ **:**切换到底线命令模式，在最底一行输入命令。
如果想编辑文本：启动vim，进入命令模式，按下i，切换到输入模式。
命令模式只有一些最基本的命令，因此仍要依靠底线命令模式输入更多命令。
### 输入模式
在命令模式下按下i就进入输入模式。
输入模式中，可以使用以下按键：
+ **字符按键以及Shift组合**，输入字符
+ **ENTER**，回车键，换行
+ **BACK SPACE**，退格键，删除光标前一个字符
+ **DEL**，删除键，删除光标最后一个字符
+ **方向键**，在文本中移动光标
+ **HOME/END**，移动光标到行首/行尾
+ **Page Up/Page Down**，上/下翻页
+ **Insert**，切换光标为输入/替换模式，光标将变成竖线/下划线
+ **ESC**，退出输入模式，切换到命令模式
### 底线命令模式
在命令模式下按:（英文冒号）就进入了底线命令模式。
底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。
在底线命令模式中，基本的命令有（已经省略了冒号）：
+ q 退出程序

+ w 保存文件

按下ESC键可随时退出底线命令模式。
简单的来说，我们可以将这三个模式想成底下的图标来表示：
![](/home/tt/下载/vim-vi-workmodel.png)
## vi/vim 使用实例
### 使用vi/vim 进入一般模式
如果你想要使用vi建立一个名为runoob.txt文件时，可以这样
> $ vim runoob.txt

直接输入vi文件名就可以进入vi的一般模式。记得vi后面加文件名，不管该文件存在与否！
![](/home/tt/下载/078207F0-B204-4464-AAEF-982F45EDDAE9.jpg)

按下i进入输入模式(也称为编辑模式)，开始编辑文字。
在一般模式之中，只要按下i，o，a等字符就可以进入输入模式！
在编辑模式中可以发现左下角状态栏会出现-INSERT-（-插入-）的字样，那就是可以输入任意字符的提示。
这个时候，键盘除了ESC这个按键以外，其他按键都可以视为一般的按钮，所以可以进行任何的编辑。
![](/home/tt/下载/1C928383-471E-4AF1-A61E-9E2CCBD5A913.jpg)

### 按下ESC按钮回到一般模式
好了，假设我以及按照上面的样式给他编辑完毕了，那么应该要如何退出呢？是的！没错！就是给他按下ESC这个按钮即可！马上就会发现画面左下角的-INSERT-（-插入-）不见了！
### 在比议案模式中按下：wq储存后离开vi
ok，我们要存档了，存档并离开的指令很简单，输入:wq即可保存离开！（w保存，q退出）
![](/home/tt/下载/B2FB5146-327C-4019-AC96-DD7A8EE7460C.jpg)

## vi/vim 按键说明
除了上面简易范例的i，Esc，:wq之外，其实vim还有非常多的按键可以使用。
### 第一部分：一般模式可用的光标移动、复制粘贴、搜索替换等
| 移动光标的方法 |  |
| ---- |---- |
| h或向左箭头（←） | 光标向左移动一个字符 |
| j或向下箭头（↓） | 光标向下移动一个字符 |
| k或向上箭头（↑） | 光标向上移动一个字符 |
| l或向右箭头健（→） | 光标向右移动一个字符 |
| [Ctrl]+[f] | 屏幕向下移动一页，相当于[Page Down]按键（常用） |
| [Ctrl]+[b] | 屏幕向上移动一页，相当于[Page Up]按键（常用） |
| [Ctrl]+[d] | 屏幕向下移动半页 |
| [Ctrl]+[u] | 屏幕向上移动半页 |
| + | 光标移动到非空格符的下一行 |
| - | 光标移动到非空格的上一行 |
| n<space> | n代表数字，例如20。按下数字再按下空格，光标会向右移动这一行n个字符。例如20<space>，则光标会向后面移动20个字符距离。 |
| 0或功能键[Home] | 这是数字0：移动到这一行的最前面字符（常用） |
| $或功能键[End] | 移动到这一行的最后面字符处（常用） |
| H | 光标移动到这个屏幕的最上方的那一行的第一个字符 |
| M | 光标移动到这个屏幕的最中央的那一行的第一个字符 |
| L | 光标移动到这个屏幕的最下方那一行的第一个字符 |
| G | 移动到这个档案的最后一行（常用） |
| nG | n为数字。移动到这个档案的第几行 |
| gg | 移动到这个档案的第一行，相当于1G！（常用） |
| n<Enter> | n为数字。光标向下移动n行（常用） |
| 搜索替换 |  |
| /word | 向光标之下寻找一个名称为word的字符串。例如要在档案内搜寻vbird这个字符串，就输入/vbird即可！（常用） |
| ?word | 向光标之上寻找一个字符串名称为word的字符串 |
| n | 这个n是英文按键。重复前一个搜索动作，例如，搜索/vbird向上搜索，我们按下n就会继续向上搜索 |
| N | 这个N是英文按键。与n相反，反向进行搜索动作 |
| :n1,n2s/word1/word2/g | n1与n2为数字。在第n1与n2行之间寻找word1这个字符串，并将该字符串取代为word2！举例来说，100到200行之间搜索imn取代为hh，[100,200s/imn/hh/g] |
| :1,$s/word1/word2/g 或 :%s/word1/word2/g | 从第一和到最后一行寻找word字符串，并将该字符串取代为word2！（常用） |
| :1,$s/word1/word2/gc 或 :%s/word1/word2/gc | 从第一行到最后一行寻找word1字符串，并将该字符串取代为word2！且取代前现实提示字符给用户确认（confirm）是否需要取代！（常用） |
| 删除、复制与粘贴 |  |
| x，X | 在一行字当中，x为删除后一个字符（相当于{del}按键），X为向前删除一个字符（相当于[backspace]亦是退格键）（常用） |
| nx | n为数字，连续向后面删除几个字符。距离来说，我要删除10个字符，10x |
| dd | 删除游标所在的一整行（常用） |
| ndd | n为数字。删除光标所在的向下n行，例如20dd则是删除20行（常用） |
| d1G | 删除光标所在到第一行所有数据 |
| dG | 删除光标所在到最后一行所有数据 |
| d$ | 删除游标所在处，到该行的最后一个字符 |
| d0 | 数字0，删除游标所在出，到该行的最前面一个字符 |
| yy | 复制游标所在的那一行（常用） |
| nyy | n为数字。复制光标所在的向下n行，例如20yy则是复制20行（常用） |
| y1G | 复制游标所在行到第一行所有数据 |
| yG | 复制游标所在行到最后一行数据 |
| y0 | 复制光标所在的那个字符到该行行首的所有数据 |
| y$ | 复制光标所在的那个字符到该行行尾的所有数据 |
| p,P | p将已复制的数据在光标下一行贴上，P为贴在游标上一行！举例来说，我目前光标在20行，且已经复制了10行数据。则按下p后，那10行数据会贴在20行以后，亦是从21行开始贴。如果按下P，会从原本的20行推至30行。（常用） |
| J | 将光标所在行与下一行的数据结合成同一行 |
| c | 重复删除多个数据，例如向下删除10行[10c] |
| u | 复原前一个动作。（常用） |
| [Ctrl]+r | 重复上一个动作。（常用） |
| . | 重复前一个动作的意思 |

